CREATE TABLE tbl_admin (
    id INT AUTO_INCREMENT PRIMARY KEY,
    profile_picture VARCHAR(255),
    gender VARCHAR(100),
    fullname VARCHAR(100) NOT NULL,
    email VARCHAR(100) NOT NULL UNIQUE,
    password VARCHAR(255) NOT NULL,
    phone_number VARCHAR(20),
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

CREATE TABLE tbl_department (
    id INT AUTO_INCREMENT PRIMARY KEY,
    department_name VARCHAR(100) NOT NULL,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);


CREATE TABLE tbl_course (
    id INT AUTO_INCREMENT PRIMARY KEY,
    department_id INT NOT NULL,
    course_name VARCHAR(100) NOT NULL,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (department_id) REFERENCES tbl_department(id)
);


CREATE TABLE tbl_students (
    id INT AUTO_INCREMENT PRIMARY KEY,
    fullname VARCHAR(100) NOT NULL,
    year_level VARCHAR(10) NOT NULL,
    department_id INT NOT NULL,
    course_id INT NOT NULL,
    gender VARCHAR(100),
    phone_number VARCHAR(20),
    email VARCHAR(100) NOT NULL UNIQUE,
    student_no VARCHAR(50) NOT NULL UNIQUE,
    password VARCHAR(255) NOT NULL,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (department_id) REFERENCES tbl_department(id),
    FOREIGN KEY (course_id) REFERENCES tbl_course(id)
);

CREATE TABLE tbl_categories (
    id INT AUTO_INCREMENT PRIMARY KEY,
    category_name VARCHAR(50) NOT NULL,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

CREATE TABLE tbl_questions (
    id INT AUTO_INCREMENT PRIMARY KEY,
    category_id INT NOT NULL,
    question TEXT NOT NULL,
    FOREIGN KEY (category_id) REFERENCES tbl_categories(id)
);


CREATE TABLE tbl_answers (
    id INT AUTO_INCREMENT PRIMARY KEY,
    student_id INT NOT NULL,
    question_id INT NOT NULL,
    taken_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    answer_value TINYINT NOT NULL CHECK (answer_value BETWEEN 0 AND 3),
    FOREIGN KEY (student_id) REFERENCES tbl_students(id),
    FOREIGN KEY (question_id) REFERENCES tbl_questions(id)
);

CREATE TABLE tbl_results (
    id INT AUTO_INCREMENT PRIMARY KEY,
    student_id INT NOT NULL,
    taken_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    depression_score INT NOT NULL,
    anxiety_score INT NOT NULL,
    stress_score INT NOT NULL,
    depression_level VARCHAR(50),
    anxiety_level VARCHAR(50),
    stress_level VARCHAR(50),
    FOREIGN KEY (student_id) REFERENCES tbl_students(id)
);


CREATE TABLE tbl_appointments (
    id INT AUTO_INCREMENT PRIMARY KEY,
    student_id INT NOT NULL,
    admin_id INT NOT NULL,
    requested_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    scheduled_date DATE,
    status VARCHAR(100),
    student_remarks TEXT,
    admin_remarks TEXT,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (student_id) REFERENCES tbl_students(id),
    FOREIGN KEY (admin_id) REFERENCES tbl_admin(id)
);

-- 1. Admin
INSERT INTO tbl_admin (profile_picture, gender, fullname, email, password, phone_number) VALUES
('https://cdn-icons-png.flaticon.com/512/3475/3475274.png', 'Female', 'Rina Restua', 'rina.restua@ub.edu.ph', '123456789', '09123456789');

-- 2. Department
INSERT INTO tbl_department (department_name) VALUES 
('CCJE'),
('CEAS'),
('CENAR'),
('CITEC'),
('CMT');


-- 3. Course
INSERT INTO tbl_course (department_id, course_name) 
VALUES 
(1, 'Bachelor of Science in Criminology'),
(2, 'Bachelor of Early Childhood Education'),
(2, 'Bachelor of Science in Legal Management'),
(2, 'Bachelor of Science in Psychology'),
(2, 'Bachelor of Science in Social Work'),
(2, 'Bachelor of Secondary Education Major in English and Social Studies'),
(3, 'Bachelor of Science in Architecture'),
(3, 'Bachelor of Science in Computer Engineering'),
(3, 'Bachelor of Science in Industrial Engineering'),
(3, 'Bachelor of Science in Interior Design'),
(4, 'Bachelor of Multimedia Arts'),
(4, 'Bachelor of Science in Information Technology'),
(5, 'Bachelor of Science in Accountancy'),
(5, 'Bachelor of Science in Business Administration'),
(5, 'Bachelor of Science in Business Administration Major in Financial Management, Marketing Management and Human Resource Development Management'),
(5, 'Bachelor of Science in Entrepreneurship'),
(5, 'Bachelor of Science in Hospitality Management'),
(5, 'Bachelor of Science in Real Estate Management'),
(5, 'Bachelor of Science in Tourism Management');



-- 5. Categories
INSERT INTO tbl_categories (category_name) VALUES
('Depression'),
('Anxiety'),
('Stress');

-- 6. Questions
-- Depression (category_id = 1)
INSERT INTO tbl_questions (category_id, question) VALUES
(1, 'I couldn''t seem to experience any positive feeling at all'),
(1, 'I just couldn''t seem to get going'),
(1, 'I felt that I had nothing to look forward to'),
(1, 'I felt sad and depressed'),
(1, 'I felt that I had lost interest in just about everything'),
(1, 'I felt I wasn''t worth much as a person'),
(1, 'I felt that life wasn''t worthwhile'),
(1, 'I felt down-hearted and blue'),
(1, 'I was unable to become enthusiastic about anything'),
(1, 'I felt I was pretty worthless'),
(1, 'I could see nothing in the future to be hopeful about'),
(1, 'I felt that life was meaningless'),
(1, 'I found it difficult to work up the initiative to do things'),
(1, 'I found myself getting upset by quite trivial things');

-- Anxiety (category_id = 2)
INSERT INTO tbl_questions (category_id, question) VALUES
(2, 'I was aware of dryness of my mouth'),
(2, 'I experienced breathing difficulty (e.g., excessively rapid breathing, breathlessness in the absence of physical exertion)'),
(2, 'I had a feeling of shakiness (e.g., legs going to give way)'),
(2, 'I found myself in situations that made me so anxious I was most relieved when they ended'),
(2, 'I found myself getting upset rather easily'),
(2, 'I felt that I was using a lot of nervous energy'),
(2, 'I had a feeling of faintness'),
(2, 'I perspired noticeably (e.g., hands sweaty) in the absence of high temperatures or physical exertion'),
(2, 'I felt scared without any good reason'),
(2, 'I had difficulty in swallowing'),
(2, 'I was aware of the action of my heart in the absence of physical exertion (e.g., sense of heart rate increase, heart missing a beat)'),
(2, 'I felt I was close to panic'),
(2, 'I feared that I would be "thrown" by some trivial but unfamiliar task'),
(2, 'I was worried about situations in which I might panic and make a fool of myself'),
(2, 'I experienced trembling (e.g., in the hands)');

-- Stress (category_id = 3)
INSERT INTO tbl_questions (category_id, question) VALUES
(3, 'I found myself getting upset by quite trivial things'),
(3, 'I tended to over-react to situations'),
(3, 'I found it difficult to relax'),
(3, 'I found myself getting impatient when I was delayed in any way (e.g., elevators, traffic lights, being kept waiting)'),
(3, 'I felt that I was rather touchy'),
(3, 'I found it hard to wind down'),
(3, 'I couldn''t seem to get any enjoyment out of the things I did'),
(3, 'I found that I was very irritable'),
(3, 'I found it hard to calm down after something upset me'),
(3, 'I found it difficult to tolerate interruptions to what I was doing'),
(3, 'I was in a state of nervous tension'),
(3, 'I was intolerant of anything that kept me from getting on with what I was doing'),
(3, 'I felt terrified'),
(3, 'I found myself getting agitated');


